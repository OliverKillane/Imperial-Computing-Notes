\chapter{Optimisation}

\section{Peephole Transformations}
% Basic pattern matching

% plan cycles
% diverging plans

\section{Logical \& Physical Optimisation}

\subsection{Rule Based Logical Optimisation}

\subsubsection{Selection Pushdown}

\subsubsection{Selection Ordering}

\subsubsection{Implication}

\section{Cost Based Logical Optimisation}
% heuristics
% histograms
% multidimensional histograms


\section{Physical Optimisation}
% Cost metrics
% function calls, produced tuples, page faults, max(I/O, CPU), intermediate sizes

\subsection{Rule Based Physical Optimisation}

% data structure choice
% sort merge join when input data is sorted
% using existing indices

\subsection{Cost Based Physical Optimisation}
% parameters (buffer pool size, data, hardware - accelerators/extensions)


\section{SparkSQL}
% spark system architecture
% catalyst optimiser
\unfinished
