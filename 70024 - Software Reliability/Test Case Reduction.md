## Definition
Used to reduce large test cases (often generated by [[Fuzzing]]) down to simpler, smaller cases.

A basic algorithms is as follows.
```python
class Program:
	"""
	A representation of a program, for example:
	- As lines of text
	- As tokens
	- As an AST
	"""

@dataclass
Entry:
	details: Details
	interesting: bool

def worthPreserving(history: list[Entry], p: Program) -> bool:
	""" 
	Determines if its worth trying to reduce more, based on 
	the current program and the history of attempted reductions
	"""
	pass

def applyreduction(p: Program, history: list[Entry]) -> tuple[Program, Details]:
	"""
	Apply a reduction to reduce program size, using the history of attempts 
	thus far.

	examples include:
	- removing some lines
	- simplifying an expression
	- inlining a function
	- removing dead code
	"""
	pass

def interesting(p: Program) -> bool:
	"""
	Decides if the program is interesting (e.g. has the incorrect behaviour present)
	and is effectively our oracle here.
	
	Depends on the bug we care about, for example:
	- Compiler crash: checks the compiler crashes
	- Compiler times out
	- Miscomplication by differential testing
	"""
	pass

p: Program = ...
history : list[Entry]

while worthPreserving(history, p):
	q, details = applyReduction(p, history)
	if interesting(q):
		p = q
		history.append(Entry(details, true))
	else:
		history.append(Entry(details, false))
```
We can use [[Differential Testing]] and other [[Compiler Testing]] techniques for the `intersting` function.

## Examples
### [CReduce](https://github.com/csmith-project/creduce)
A test case reducer for C programs.
- Does undefined behaviour analysis using sanitizers, compiler warnings, or even static analysis (Frama-C)
- A standalone tool to use with any C compiler